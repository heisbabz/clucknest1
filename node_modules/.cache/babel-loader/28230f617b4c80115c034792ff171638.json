{"remainingRequest":"/Users/babz/Desktop/clucknest/node_modules/babel-loader/lib/index.js!/Users/babz/Desktop/clucknest/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/babz/Desktop/clucknest/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/babz/Desktop/clucknest/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/babz/Desktop/clucknest/src/views/Register.vue","mtime":1598538671829},{"path":"/Users/babz/Desktop/clucknest/node_modules/cache-loader/dist/cjs.js","mtime":1598282064308},{"path":"/Users/babz/Desktop/clucknest/node_modules/babel-loader/lib/index.js","mtime":1598282064223},{"path":"/Users/babz/Desktop/clucknest/node_modules/cache-loader/dist/cjs.js","mtime":1598282064308},{"path":"/Users/babz/Desktop/clucknest/node_modules/vue-loader/lib/index.js","mtime":1598282070198}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZiYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdmJhci52dWUnOwppbXBvcnQgRGF0ZXBpY2tlciBmcm9tICd2dWVqcy1kYXRlcGlja2VyJzsKaW1wb3J0IHBhc3N3b3JkTWV0ZXIgZnJvbSAidnVlLXNpbXBsZS1wYXNzd29yZC1tZXRlciI7CmltcG9ydCBzbHVnaWZ5IGZyb20gJ3NsdWdpZnknOwppbXBvcnQgZGIgZnJvbSAnQC9maXJlYmFzZS9pbml0JzsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJzsKaW1wb3J0IFZ1ZVRvYXN0ciBmcm9tICJ2dWUtdG9hc3RyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3RlcicsCiAgY29tcG9uZW50czogewogICAgTmF2YmFyOiBOYXZiYXIsCiAgICBEYXRlcGlja2VyOiBEYXRlcGlja2VyLAogICAgcGFzc3dvcmRNZXRlcjogcGFzc3dvcmRNZXRlciwKICAgIFZ1ZVRvYXN0cjogVnVlVG9hc3RyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnM6IHsKICAgICAgICBmaXJzdG5hbWU6IG51bGwsCiAgICAgICAgbGFzdG5hbWU6IG51bGwsCiAgICAgICAgZW1haWw6IG51bGwsCiAgICAgICAgZ2VuZGVyOiBudWxsLAogICAgICAgIGZhcm1uYW1lOiBudWxsLAogICAgICAgIHBob25lOiBudWxsLAogICAgICAgIGRvZTogbnVsbCwKICAgICAgICBmYXJtYWRkcmVzczogbnVsbCwKICAgICAgICBjaXR5OiBudWxsLAogICAgICAgIHN0YXRlOiBudWxsLAogICAgICAgIHBhc3N3b3JkOiBudWxsCiAgICAgIH0sCiAgICAgIGNvdW50cnk6IG51bGwsCiAgICAgIHJlZ2lvbjogbnVsbCwKICAgICAgZGlzYWJsZWREYXRlczogewogICAgICAgIGZyb206IG5ldyBEYXRlKERhdGUubm93KCkpCiAgICAgIH0sCiAgICAgIGZlZWRiYWNrOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVnU3VibWl0OiBmdW5jdGlvbiByZWdTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy51c2Vycy5mYXJtbmFtZSAmJiB0aGlzLnVzZXJzLmZhcm1hZGRyZXNzKSB7CiAgICAgICAgdGhpcy5zbHVnID0gc2x1Z2lmeSh0aGlzLnVzZXJzLmZhcm1uYW1lIHx8IHRoaXMudXNlcnMuZmFybWFkZHJlc3MsIHsKICAgICAgICAgIHJlcGxhY2VtZW50OiAnLScsCiAgICAgICAgICByZW1vdmU6IC9bJCpfK34uKCknIiFcLTpAXS9nLAogICAgICAgICAgbG93ZXI6IHRydWUKICAgICAgICB9KTsKICAgICAgICB2YXIgcmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGhpcy5zbHVnKTsKICAgICAgICByZWYuZ2V0KCkudGhlbihmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICBpZiAoZG9jLmV4aXN0cykgewogICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKF90aGlzLnVzZXJzLmVtYWlsLCBfdGhpcy51c2Vycy5wYXNzd29yZCwgX3RoaXMudXNlcnMuZmFybW5hbWUpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBfdGhpcy4kdG9hc3RyLmUoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoX3RoaXMudXNlcnMuZW1haWwsIF90aGlzLnVzZXJzLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZWYuc2V0KHsKICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogX3RoaXMudXNlcnMuZmlyc3RuYW1lLAogICAgICAgICAgICAgICAgbGFzdG5hbWU6IF90aGlzLnVzZXJzLmxhc3RuYW1lLAogICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLnVzZXJzLmVtYWlsLAogICAgICAgICAgICAgICAgZ2VuZGVyOiBfdGhpcy51c2Vycy5nZW5kZXIsCiAgICAgICAgICAgICAgICBmYXJtbmFtZTogX3RoaXMudXNlcnMuZmFybW5hbWUsCiAgICAgICAgICAgICAgICBwaG9uZTogX3RoaXMudXNlcnMucGhvbmUsCiAgICAgICAgICAgICAgICBkb2U6IF90aGlzLnVzZXJzLmRvZSwKICAgICAgICAgICAgICAgIGZhcm1hZGRyZXNzOiBfdGhpcy51c2Vycy5mYXJtYWRkcmVzcywKICAgICAgICAgICAgICAgIGNvdW50cnk6IF90aGlzLmNvdW50cnksCiAgICAgICAgICAgICAgICBzdGF0ZTogX3RoaXMucmVnaW9uLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnVzZXJzLnBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzLiR0b2FzdHIucygiUmVnaXN0cmF0aW9uIFN1Y2Nlc3NmdWwhIik7CgogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnUmVnaXN0cmF0aW9uU3VjY2VzcycsCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMubmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdHIuZSgiUGxlYXNlIGZpbGwgaW4gdGhlIGVtcHR5IGZpZWxkcyIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <Navbar />\n        <div class=\"register container shadow mt-5 mb-5 p-4\">\n            <form class=\"mt-2 \" @submit.prevent=\"regSubmit\">\n                <h3 class=\"a\">REGISTER</h3>\n                <div class=\"form-row\">\n                    <div class=\"col\">\n                        <label for=\"firstName\">First Name</label>\n                        <input type=\"text\" class=\"form-control\" name=\"firstname\" placeholder=\"First name\" v-model=\"users.firstname\">\n                    </div>\n                    <div class=\"col\">\n                        <label for=\"lastName\">Last Name</label>\n                        <input type=\"text\" class=\"form-control\" name=\"lastname\" placeholder=\"Last name\" v-model=\"users.lastname\">\n                    </div>\n                </div>\n                <div class=\"form-row\">\n                    <div class=\"col-md-8\">\n                        <label for=\"email\">Email Address</label>\n                        <input type=\"email\" class=\"form-control\" name=\"email\" placeholder=\"Email\" v-model=\"users.email\">\n                    </div>\n                    <div class=\"col-md-4\">\n                    <label for=\"gender\">Gender</label>\n                    <select class=\"custom-select mr-sm-2\" name=\"gender\" v-model=\"users.gender\" placeholder=\"Email\">\n                        <option selected>Choose...</option>\n                        <option value=\"female\">Female</option>\n                        <option value=\"male\">Male</option>\n                    </select>\n                    </div>\n                </div>\n                <hr class=\"mt-3\">\n                <div class=\"form-row\">\n                    <div class=\"col-md-8\">\n                        <label for=\"farmName\">Farm Name</label>\n                        <input type=\"text\" class=\"form-control\" name=\"farmname\" placeholder=\"Farm name\" v-model=\"users.farmname\">\n                    </div>\n                    <div class=\"col-md-4\">\n                    <label for=\"dateOfEstablishment\">Date of Establishment</label>\n                    <datepicker input-class=\"form-control\" name=\"doe\" v-model=\"users.doe\" :disabledDates=\"disabledDates\" format=\"dd-MM-yyyy\"></datepicker>\n                    </div>\n                </div>\n                <div class=\"form-row\">\n                    <div class=\"col-md-8\">\n                        <label for=\"farmAddress\">Farm Address</label>\n                        <input type=\"text\" class=\"form-control\" name=\"farmaddress\" placeholder=\"Enter your farm address\" v-model=\"users.farmaddress\">\n                    </div>\n                    <div class=\"col-md-4\">\n                            <label for=\"farmName\">Phone Number</label>\n                            <input type=\"tel\" class=\"form-control\" name=\"phone\" v-model=\"users.phone\">\n                    </div>\n                </div>\n                <div class=\"form-row\">\n                    <div class=\"form-group col-md-6\">\n                        <label for=\"city\">City</label>\n                        <country-select type=\"text\" class=\"form-control\" v-model=\"country\" :country=\"country\" topCountry=\"NG\" countryName />\n                    </div>\n                    <div class=\"form-group col-md-4\">\n                        <label for=\"state\">State</label>\n                        <region-select type=\"text\" class=\"form-control\" v-model=\"region\" :country=\"country\" :region=\"region\" countryName regionName />\n                    </div>  \n                </div>\n                <div class=\"form-row\">\n                    <div class=\"col-sm-7\">\n                        <label for=\"password\">Password</label>\n                        <input type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Enter your preferred password\" v-model=\"users.password\">\n                        <password-meter :password=\"users.password\" />\n                    </div>\n                </div>\n                  <vue-toastr ref=\"toastr\"></vue-toastr>          \n                <button type=\"submit\" class=\"btn btn-primary mt-2 rb shadow\">Submit</button>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue'\nimport Datepicker from 'vuejs-datepicker'\nimport passwordMeter from \"vue-simple-password-meter\"\nimport slugify from 'slugify'\nimport db from '@/firebase/init'\nimport firebase from 'firebase'\nimport VueToastr from \"vue-toastr\"\n\nexport default {\n    name: 'Register',\n    components: {\n        Navbar,\n        Datepicker,\n        passwordMeter,\n        VueToastr\n    },\n    data(){\n        return{\n            users: {\n                firstname: null,\n                lastname: null,\n                email: null,\n                gender: null,\n                farmname: null,\n                phone: null,\n                doe: null,\n                farmaddress: null,\n                city: null,\n                state: null,\n                password: null,\n            },\n            country: null,\n            region: null,\n            disabledDates: {\n                from: new Date(Date.now())\n            },\n            feedback: null\n        }\n    },\n    methods: {\n        regSubmit() {\n            if(this.users.farmname && this.users.farmaddress){\n              this.slug = slugify(this.users.farmname || this.users.farmaddress, {\n                  replacement: '-',\n                  remove: /[$*_+~.()'\"!\\-:@]/g,\n                  lower: true\n              })\n              let ref = db.collection('users').doc(this.slug)\n              ref.get().then(doc => {\n                  if(doc.exists){\n                      firebase.auth().createUserWithEmailAndPassword(this.users.email, this.users.password, this.users.farmname).catch(err => {\n                        this.$toastr.e(err.message);\n                        })\n                  }else {\n                      firebase.auth().createUserWithEmailAndPassword(this.users.email, this.users.password)\n                      .then(() => {\n                          ref.set({\n                                firstname: this.users.firstname,\n                                lastname: this.users.lastname,\n                                email: this.users.email,\n                                gender: this.users.gender,\n                                farmname: this.users.farmname,\n                                phone: this.users.phone,\n                                doe: this.users.doe,\n                                farmaddress: this.users.farmaddress,\n                                country: this.country,\n                                state: this.region,\n                                password: this.users.password\n                          })\n                      }).then(() => {\n                          this.$toastr.s(\"Registration Successful!\")\n                          this.$router.push({name: 'RegistrationSuccess', params: {name: this.name}})\n                      })\n                      }\n              }) \n            }else{\n                this.$toastr.e(\"Please fill in the empty fields\");\n            }\n        },\n\n    }\n}\n</script>>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.register {\n    color: #CD853F;\n    max-width: 700px;\n    background-color: #FFF;\n    border-radius: 10px;\n}\n.rb {\n    background-color: #FFF;\n    border: 1px solid #CD853F;\n    color: #CD853F;\n}\n.rb:hover {\n    background-color: #CD853F;\n    color: #FFF;\n}\n.feedback {\n    color: red;\n}\n</style>"],"sourceRoot":"src/views"}]}